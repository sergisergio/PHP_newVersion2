{% extends "./base.html.twig" %}

{% block title %}
    Dashboard
{% endblock %}

{% block stylesheet %}
{% endblock %}

{% block nav %}{% include('admin/dashboard/_partials/nav.html.twig') %}{% endblock %}

{% block main %}
    <div class="container">
      {% include 'admin/dashboard/_partials/nav2.html.twig' %}
      <h2 class="text-center">Gestion des commentaires</h2>
      <div class="divide20"></div>
        {{ message.display }}
        <p class="text-center">{{ number }} commentaires</p>

        {% include('admin/dashboard/_partials/pagination.html.twig') %}
        <div class="post box">
          {% if (number == 0) %}
          <p>Il n'y a aucun commentaire pour l'instant...</p>
          {% endif %}
          <table class="table table-striped table-dark">
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col">Contenu</th>
                <th scope="col">Statut</th>
                <th scope="col">Modifier</th>
                <th scope="col">Supprimer</th>
              </tr>
            </thead>
            <tbody>
              {% for comment in comments %}
              <tr>
                <th scope="row">{{ loop.index }}</th>
                <td>{{ comment.content|slice(0,50)|raw }}</td>
                <td><a href="?c=adminComment&t=toggleComment&g={{ comment.validated }}&id={{ comment.id }}">{{ (comment.validated) ? 'publié' : 'non publié' }}</a></td>
                <td><i class="fa fa-pencil" aria-hidden="true"></i></td>
                <td>
                  {% include('admin/dashboard/comments/_form_comment_delete.html.twig') %}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      <div class="divide100"></div>
{% endblock %}

{% block js %}
{% endblock %}
